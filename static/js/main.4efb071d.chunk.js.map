{"version":3,"sources":["js/helpers/Globals.js","js/functions/PlayIcon.js","js/classes/Particle.js","js/classes/Flower.js","audio/sakura-no-1.ogg","audio/sakura-no-1.mid","js/P5SketchWithAudio.js","js/App.js","index.js"],"names":["window","p5","PlayIcon","id","class","xmlns","height","viewBox","width","d","fill","Particle","x","y","globalHue","this","lastPos","createVector","pos","vel","acc","size","random","h","Flower","hue","p","translate","strokeWeight","i","stroke","ellipse","rotate","PI","hue5","line","P5SketchWithAudio","sketchRef","useRef","Sketch","canvas","canvasWidth","innerWidth","canvasHeight","innerHeight","audioLoaded","player","tempo","barAsSeconds","Math","floor","PPQ","particlesArray","spawnPerFrame","noteSize","notePosX","notePosY","noteHue","flowers","loadMidi","Midi","fromUrl","midi","then","result","console","log","noteSet1","tracks","notes","scheduleCueSet","document","getElementById","classList","add","preload","song","loadSound","audio","onended","logCredits","noteSet","callbackName","poly","lastTicks","currentCue","length","note","ticks","time","addCue","setup","colorMode","HSB","createCanvas","background","smooth","noStroke","draw","isPlaying","rect","push","abs","dist","vec","sub","normalize","mult","set","splice","update","barAsTicks","executeCueSet1","xPos","parseFloat","map","mousePressed","pause","parseInt","currentTime","buffer","duration","reset","addClass","play","creditsLogged","stop","updateCanvasDimensions","resizeCanvas","attachEvent","addEventListener","useEffect","current","ref","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.4efb071d.chunk.js","sourcesContent":["// p5.sound doesn't work correctly when p5 is not available in the global name space so we add it here\n// https://github.com/processing/p5.js-sound/issues/512\nimport * as p5 from \"p5\";\nwindow.p5 = p5;\n","export default function PlayIcon() {\n    return (\n        <svg id=\"play-icon\" class='fade-out' xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\n            <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n            <path d=\"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" />\n        </svg>\n    )\n}\n","export default class Particle {\n\n    constructor(x, y, p5, globalHue){\n        this.lastPos = p5.createVector(x, y);\n        this.pos = p5.createVector(x, y);\n        this.vel = p5.createVector(0, 0);\n        this.acc = p5.createVector(0, 0);\n        this.size = p5.random(2, 20);\n        this.h = globalHue;\n    }\n    \n}","export default class Flower {\n    constructor(p5, x, y, hue) {\n        this.p = p5;\n        this.x = x;\n        this.y = y;\n        this.hue = hue;\n        this.size = 0;\n    }\n\n    update() {\n        this.size++;\n    }\n\n    draw() {\n        this.p.translate(this.x, this.y);\n        this.p.strokeWeight(2);\n        for (let i = 0; i < 5; i ++) {\n            this.p.fill(this.hue, 100, 100, 50);\n            this.p.stroke(this.hue, 100, 100, 50);\n            this.p.ellipse(0, 20, this.size / 2, this.size);\n            this.p.fill(this.hue, 0, 100, 100);\n            this.p.ellipse(0, 25, this.size / 8, this.size / 8);\n            this.p.rotate(this.p.PI/2.5);\n        }\n        this.p.fill(this.hue + 20, 100, 100, 100);\n        this.p.stroke(this.hue + 20, 100, 100, 100);\n        this.p.ellipse(0, 0, this.size / 8 * 3, this.size / 8 * 3);\n        this.p.fill(this.hue, 0, 100, 100);\n        this.p.ellipse(0, 0, this.size / 8 * 1.5, this.size / 8 * 1.5);\n        for (let i = 0; i < 5; i ++) {\n            this.p.fill(this.hue, 0, 100, 100);\n            this.p.stroke(this.hue5, 0, 100, 100);\n            this.p.line(0, 0, 0, this.size / 8 * 3);\n            this.p.rotate(this.p.PI/2.5);\n        }\n        this.p.translate(-this.x, -this.y);\n    }\n}","export default __webpack_public_path__ + \"static/media/sakura-no-1.68fe6d37.ogg\";","export default __webpack_public_path__ + \"static/media/sakura-no-1.5f570a37.mid\";","import React, { useRef, useEffect } from \"react\";\nimport \"./helpers/Globals\";\nimport \"p5/lib/addons/p5.sound\";\nimport * as p5 from \"p5\";\nimport { Midi } from '@tonejs/midi'\nimport PlayIcon from './functions/PlayIcon.js';\nimport Particle from './classes/Particle.js';\nimport Flower from './classes/Flower.js';\n\nimport audio from \"../audio/sakura-no-1.ogg\";\nimport midi from \"../audio/sakura-no-1.mid\";\n\nconst P5SketchWithAudio = () => {\n    const sketchRef = useRef();\n\n    const Sketch = p => {\n\n        p.canvas = null;\n\n        p.canvasWidth = window.innerWidth;\n\n        p.canvasHeight = window.innerHeight;\n\n        p.audioLoaded = false;\n\n        p.player = null;\n\n        p.tempo = 98;\n\n        p.barAsSeconds = Math.floor(((60 / p.tempo) * 4) * 100000) / 100000;\n\n        p.PPQ = 3840 * 4;\n\n        p.particlesArray = [];\n        p.globalHue = 300;\n        p.spawnPerFrame = 3;\n        p.noteSize = 200;\n        p.notePosX = 0;\n        p.notePosY = 0;\n        p.noteHue = 0;\n        p.flowers = [];\n\n        p.loadMidi = () => {\n            Midi.fromUrl(midi).then(\n                function(result) {\n                    console.log(result);\n                    const noteSet1 = result.tracks[3].notes; // Thor 2 - A New Blade\n                    p.scheduleCueSet(noteSet1, 'executeCueSet1');\n                    p.audioLoaded = true;\n                    document.getElementById(\"loader\").classList.add(\"loading--complete\");\n                    //document.getElementById(\"play-icon\").classList.remove(\"fade-out\");\n                }\n            );\n            \n        }\n\n        p.preload = () => {\n            p.song = p.loadSound(audio, p.loadMidi);\n            p.song.onended(p.logCredits);\n        }\n\n        p.scheduleCueSet = (noteSet, callbackName, poly = false)  => {\n            let lastTicks = -1,\n                currentCue = 1;\n            for (let i = 0; i < noteSet.length; i++) {\n                const note = noteSet[i],\n                    { ticks, time } = note;\n                if(ticks !== lastTicks || poly){\n                    note.currentCue = currentCue;\n                    p.song.addCue(time, p[callbackName], note);\n                    lastTicks = ticks;\n                    currentCue++;\n                }\n            }\n        } \n\n        p.setup = () => {\n            p.colorMode(p.HSB, 360, 100, 100, 100);\n            p.canvas = p.createCanvas(p.canvasWidth, p.canvasHeight);\n            p.background(0);\n            p.smooth();\n            p.noStroke();\n        }\n\n        p.draw = () => {\n            if(p.audioLoaded && p.song.isPlaying()){\n                p.fill(0, 5);\n                p.rect(0, 0, p.width, p.height);\n\n                for (var i = 0; i < p.spawnPerFrame; i++) {\n                    p.particlesArray.push(new Particle(p.random(p.width), 0, p, p.globalHue));\n                }\n                for (var i = p.particlesArray.length - 1; i > -1; i--) {\n                    p.particlesArray[i].acc.add(p.createVector(0, p.particlesArray[i].size * 0.01));\n\n                    // Quick check to avoid calculating distance if possible.\n                    if (p.notePosX && p.abs(p.particlesArray[i].pos.x - p.notePosX) < p.noteSize) {\n                        let d = p.dist(p.notePosX, p.notePosY, p.particlesArray[i].pos.x, p.particlesArray[i].pos.y);\n                        if (d < p.noteSize) {\n                            let vec = p.createVector(p.notePosX, p.notePosY - p.noteSize);\n                            vec.sub(p.createVector(p.particlesArray[i].pos.x, p.particlesArray[i].pos.y));\n                            vec.normalize();\n                            p.particlesArray[i].vel.add(vec);\n\n                            p.particlesArray[i].h += 1.5;\n                            if (p.particlesArray[i].h > 360) {\n                                p.particlesArray[i].h = 0;\n                            }\n                        }\n                    }\n\n                    p.particlesArray[i].vel.add(p.particlesArray[i].acc);\n                    p.particlesArray[i].pos.add(p.particlesArray[i].vel);\n                    p.particlesArray[i].acc.mult(0);\n\n                    p.stroke(p.particlesArray[i].h, 100, 100);\n                    p.strokeWeight(p.particlesArray[i].size);\n                    p.line(\n                        p.particlesArray[i].lastPos.x, \n                        p.particlesArray[i].lastPos.y,\n                        p.particlesArray[i].pos.x, \n                        p.particlesArray[i].pos.y\n                    );\n\n                    p.particlesArray[i].lastPos.set(p.particlesArray[i].pos.x, p.particlesArray[i].pos.y);\n\n                    if (p.particlesArray[i].pos.y > p.height || p.particlesArray[i].pos.x < 0 || p.particlesArray[i].pos.x > p.width) {\n                        p.particlesArray.splice(i, 1);\n                    }\n                }\n\n                for (var i = 0; i < p.flowers.length; i++) {\n                    p.flowers[i].draw();\n                    p.flowers[i].update();\n                    if (p.flowers[i].size > 80) {\n                        p.flowers.splice(i, 1);\n                    }\n                }\n\n                p.globalHue += 0.15;\n                if (p.globalHue > 330) {\n                    p.globalHue = 270;\n                }\n            }\n\n        }\n\n        p.barAsTicks = 61440;\n\n        p.executeCueSet1 = (note) => {\n            const { time, midi  } = note;\n            let xPos = Math.floor(time * 100000) / 100000;\n            //two bars\n            if(parseFloat(xPos) >= parseFloat((p.barAsSeconds *2))){\n                while(xPos >= (p.barAsSeconds *2)){\n                    xPos = xPos - (p.barAsSeconds *2);\n                }\n\n                xPos = xPos > 0 ? xPos : 0;\n            }\n\n            p.notePosX = (p.width/16) + (p.width  / (p.barAsSeconds *2) * xPos);\n            p.notePosY = p.map(midi, 60, 77, (p.height/16), p.height - (p.height/16));\n            p.noteHue = p.random(0, 360);\n\n            p.flowers.push(\n                new Flower(p, p.notePosX, p.notePosY, p.globalHue)\n            );\n        }\n\n        p.mousePressed = () => {\n            if(p.audioLoaded){\n                if (p.song.isPlaying()) {\n                    p.song.pause();\n                } else {\n                    if (parseInt(p.song.currentTime()) >= parseInt(p.song.buffer.duration)) {\n                        p.reset();\n                    }\n                    document.getElementById(\"play-icon\").classList.add(\"fade-out\");\n                    p.canvas.addClass(\"fade-in\");\n                    p.song.play();\n                }\n            }\n        }\n\n        p.creditsLogged = false;\n\n        p.logCredits = () => {\n            if (\n                !p.creditsLogged &&\n                parseInt(p.song.currentTime()) >= parseInt(p.song.buffer.duration)\n            ) {\n                p.creditsLogged = true;\n                    console.log(\n                    \"Music By: http://labcat.nz/\",\n                    \"\\n\",\n                    \"Animation By: https://github.com/LABCAT/\"\n                );\n                p.song.stop();\n            }\n        };\n\n        p.reset = () => {\n\n        }\n\n        p.updateCanvasDimensions = () => {\n            p.canvasWidth = window.innerWidth;\n            p.canvasHeight = window.innerHeight;\n            p.canvas = p.resizeCanvas(p.canvasWidth, p.canvasHeight);\n        }\n\n        if (window.attachEvent) {\n            window.attachEvent(\n                'onresize',\n                function () {\n                    p.updateCanvasDimensions();\n                }\n            );\n        }\n        else if (window.addEventListener) {\n            window.addEventListener(\n                'resize',\n                function () {\n                    p.updateCanvasDimensions();\n                },\n                true\n            );\n        }\n        else {\n            //The browser does not support Javascript event binding\n        }\n    };\n\n    useEffect(() => {\n        new p5(Sketch, sketchRef.current);\n    }, []);\n\n    return (\n        <div ref={sketchRef}>\n            <PlayIcon />\n        </div>\n    );\n};\n\nexport default P5SketchWithAudio;\n","import P5SketchWithAudio from './P5SketchWithAudio'\n\nfunction App() {\n  return (\n    <P5SketchWithAudio/>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/build.css';\nimport App from './js/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}